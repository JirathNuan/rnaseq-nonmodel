<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Transcriptome Data Analysis in Non-model Organisms - 2&nbsp; Bash Command Language for Biologists</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03_sra.html" rel="next">
<link href="./01_intro_mobaxterm.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bash Command Language for Biologists</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Transcriptome Data Analysis in Non-model Organisms</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_intro_mobaxterm.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to MobaXterm, Terminal, and SSH</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_basic_bash.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bash Command Language for Biologists</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_sra.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Retrieval with NCBI SRA Toolkit</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_qc.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">RNA-Seq Data Quality Control</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_denovo_assembly.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">De novo Assembly with Trinity</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_de_analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Differential Gene Expression Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#linux-file-systems" id="toc-linux-file-systems" class="nav-link active" data-scroll-target="#linux-file-systems"><span class="toc-section-number">2.1</span>  Linux File Systems</a></li>
  <li><a href="#basic-bash-commands" id="toc-basic-bash-commands" class="nav-link" data-scroll-target="#basic-bash-commands"><span class="toc-section-number">2.2</span>  Basic Bash Commands</a>
  <ul class="collapse">
  <li><a href="#creating-directories" id="toc-creating-directories" class="nav-link" data-scroll-target="#creating-directories">Creating directories</a></li>
  <li><a href="#navigating-your-file-system" id="toc-navigating-your-file-system" class="nav-link" data-scroll-target="#navigating-your-file-system">Navigating your file system</a></li>
  <li><a href="#listing-directories" id="toc-listing-directories" class="nav-link" data-scroll-target="#listing-directories">Listing directories</a></li>
  <li><a href="#files-and-directories-handling" id="toc-files-and-directories-handling" class="nav-link" data-scroll-target="#files-and-directories-handling">Files and directories handling</a></li>
  <li><a href="#downloading-file-from-url" id="toc-downloading-file-from-url" class="nav-link" data-scroll-target="#downloading-file-from-url">Downloading file from URL</a></li>
  <li><a href="#inspecting-file" id="toc-inspecting-file" class="nav-link" data-scroll-target="#inspecting-file">Inspecting file</a></li>
  <li><a href="#show-latest-commands-we-used" id="toc-show-latest-commands-we-used" class="nav-link" data-scroll-target="#show-latest-commands-we-used">Show latest commands we used</a></li>
  <li><a href="#shortcut-tab-completion" id="toc-shortcut-tab-completion" class="nav-link" data-scroll-target="#shortcut-tab-completion">Shortcut: Tab Completion</a></li>
  </ul></li>
  <li><a href="#maintaining-long-running-jobs-with-tmux" id="toc-maintaining-long-running-jobs-with-tmux" class="nav-link" data-scroll-target="#maintaining-long-running-jobs-with-tmux"><span class="toc-section-number">2.3</span>  Maintaining Long-Running Jobs with tmux</a>
  <ul class="collapse">
  <li><a href="#a-simple-usage-of-tmux" id="toc-a-simple-usage-of-tmux" class="nav-link" data-scroll-target="#a-simple-usage-of-tmux">A simple usage of Tmux</a></li>
  <li><a href="#detach-a-session" id="toc-detach-a-session" class="nav-link" data-scroll-target="#detach-a-session">Detach a session</a></li>
  <li><a href="#name-the-tmux-session" id="toc-name-the-tmux-session" class="nav-link" data-scroll-target="#name-the-tmux-session">Name the Tmux session</a></li>
  <li><a href="#list-tmux-sessions" id="toc-list-tmux-sessions" class="nav-link" data-scroll-target="#list-tmux-sessions">List tmux sessions</a></li>
  <li><a href="#reenter-aka-reattach-a-session-in-tmux" id="toc-reenter-aka-reattach-a-session-in-tmux" class="nav-link" data-scroll-target="#reenter-aka-reattach-a-session-in-tmux">Reenter (aka reattach) a session in Tmux</a></li>
  <li><a href="#exit-tmux-when-finish-running" id="toc-exit-tmux-when-finish-running" class="nav-link" data-scroll-target="#exit-tmux-when-finish-running">Exit tmux when finish running</a></li>
  </ul></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources"><span class="toc-section-number">2.4</span>  Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Bash Command Language for Biologists</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Shell scripts (or shell or UNIX) are widely used in bioinformatics because they’re the interface for large bioinformatics programs. In this workshop, you’ll learn how to use the necessary Bash command concepts. This will allow you to focus on the content of the commands in the following chapters rather than on understanding shell syntax. However, before we start learning bash, it’s good to understand Linux file systems a little bit.</p>
<section id="linux-file-systems" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="linux-file-systems"><span class="header-section-number">2.1</span> Linux File Systems</h2>
<p>In Unix-like operating systems, the Linux file system defines the directory structure and contents. Even if they’re located on different physical or virtual hard disks, all files and directories are located under the root directory.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://media.geeksforgeeks.org/wp-content/uploads/linuxDir.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Schematic hierarchy of Linux file systems. The figure is adopted from <a href="https://www.geeksforgeeks.org/linux-file-hierarchy-structure" class="uri">https://www.geeksforgeeks.org/linux-file-hierarchy-structure</a>.</figcaption><p></p>
</figure>
</div>
<dl>
<dt>Root (<code>/</code>)</dt>
<dd>
<p>It is the root directory of the entire file system hierarchy and the primary hierarchy root. The root directory is where everything begins. This directory can be written only by root.</p>
</dd>
<dt>/bin</dt>
<dd>
<p>Essential commands that must be available with all users, for example, <code>cat</code>, <code>ls</code>, <code>cp</code>, <code>cd</code>, <code>top</code>, <code>mkdir</code> and many more.</p>
</dd>
<dt>/dev</dt>
<dd>
<p>Essential device files such as <code>/dev/null</code>, <code>/dev/shm</code>. This includes terminal devices, USB or other devices connected to the system.</p>
</dd>
<dt>/etc</dt>
<dd>
<p>System-wide configuration files for the host, contain files that all programs need. Also included are startup and shutdown shell scripts for starting and stopping individual programs, such as <code>/etc/fstab</code> for permanently mounting external disks, <code>/etc/netplan</code> for configuring the network and IP address, and more.</p>
</dd>
<dt>/home</dt>
<dd>
<p>Users’ home directories, where they keep their saved files and settings. These directories are used to store all of a user’s files and settings in one place so that they can easily access their data and keep it organized. For example <code>/home/ponsit</code>, <code>/home/jiratchaya</code>, <code>/home/prasert</code>.</p>
</dd>
<dt>/lib</dt>
<dd>
<p>Contain essential libraries for the binaries in <code>/bin/</code> and <code>/sbin/</code>.</p>
</dd>
<dt>/media</dt>
<dd>
<p>Mount points for removable media such as CD-ROMs (deprecated).</p>
</dd>
<dt>/mnt</dt>
<dd>
<p>Temporary mount directory where sysadmins can mount file systems, such as <code>/mnt/external_disk_1</code>, <code>/mnt/removable_drive_1</code>, etc.</p>
</dd>
<dt>/opt</dt>
<dd>
<p>Optional application software packages, including add-on applications from individual vendors.</p>
</dd>
<dt>/sbin</dt>
<dd>
<p>Essential system binaries, e.g., <code>fsck</code>, <code>init</code>, route.</p>
</dd>
<dt>/tmp</dt>
<dd>
<p>Temporary files that aren’t preserved between reboots and may be severely restricted.</p>
</dd>
<dt>/usr</dt>
<dd>
<p>A secondary hierarchy for read-only user data. Most utilities and applications are located here.</p>
</dd>
</dl>
</section>
<section id="basic-bash-commands" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="basic-bash-commands"><span class="header-section-number">2.2</span> Basic Bash Commands</h2>
<p>Bash is a Unix shell that allows you to enter commands that are then interpreted and executed by the computer. Commands can be used to perform tasks such as creating a directory, running a program, or deleting a file. Bash is a type of interpreter that takes user input and converts it into a language that the computer can understand and execute. Commands usually consist of keywords, arguments, and flags that allow the user to control how the command is interpreted and executed by the computer.</p>
<section id="creating-directories" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="creating-directories">Creating directories</h3>
<p>Keeping all your files in a single directory makes things much easier for you and your collaborators, and makes it easier to reproduce. Suppose you’re working on a transcriptome analysis of <em>Cyanophora paradoxa</em>. Your first step would be to choose a short, appropriate project name and create some basic directories.</p>
<blockquote class="blockquote">
<p>🗒️<strong>Note:</strong> In Linux file system, <strong>directory</strong> is exactly the same with <strong>folder</strong>.</p>
</blockquote>
<p>To keep it short and clear, ‘Cpa’ is used as an alias article name for <em>C. paradoxa</em>, and as the name of the directory, followed by words describing your work, for example.</p>
<blockquote class="blockquote">
<p>⚠️ <strong>warning:</strong> Avoid using spaces ( ) or special characters such as slashes ( / ), backslashes ( \ ), accented characters ( ’ ), tilde ( ~ ), and many others. It is <strong>recommended to use underscore ( _ )</strong> or hyphen ( - ) instead of these special characters.</p>
</blockquote>
<ul>
<li>Create a directory name ‘Cpa_RNASeq’ from current working directory</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> Cpa_RNASeq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will create a directory named ‘Cpa_RNASeq’ in your current working directory. Let us create some subdirectories!</p>
<ul>
<li>Create subdirectory ‘01_Rawdata’ under the ‘Cpa_RNASeq’ directory</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> Cpa_RNASeq/01_Rawdata</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will create a subdirectory name ‘01_Rawdata’ in the directory ‘Cpa_RNASeq’</p>
<ul>
<li>Create multiple directory at once</li>
</ul>
<p>For example, if you want to create 2 directories named ‘02_QC’ and ‘03_adapter_trimming’ under the ‘Cpa_RNASeq’ directory, then simply type</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> Cpa_RNASeq/<span class="dt">{02_QC</span><span class="op">,</span><span class="dt">03_adapter_trimming}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="navigating-your-file-system" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="navigating-your-file-system">Navigating your file system</h3>
<p>The file system manages the files and directories of the operating system. It organizes our data into files, which store information, and directories. When you see the prompt below on your terminal’s screen, it means that your terminal has processed the command you entered and is ready for the next command.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">jiratchaya@DESKTOP-P2DD13C:~$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>jiratchaya</code> is username using this terminal. The address @ symbol followed by <code>DESKTOP-P2DD13C</code> in a computer or server name. And, the dollar sign <code>$</code> is a prompt, which shows us that the shell is waiting for input. Your shell may use a different character as a prompt and may add information before the prompt.</p>
<p>If you want to find out where we are now, type</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">pwd</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>pwd stands for print working directory. Without explicit specification, the computer assumes that we want to execute commands in our current working directory. This can be a user’s home directory (<code>~</code>).</p>
<p>If you want to change the directory, e.g.&nbsp;to the ‘Cpa_RNASeq’ directory we just created, just type the following</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Cpa_RNASeq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><code>cd</code> stands for “change directory”. You can change our working directory by typing <code>cd</code> followed by a directory name. In this case you change from the current directory to the directory named ‘Cpa_RNASeq’.</p>
</section>
<section id="listing-directories" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="listing-directories">Listing directories</h3>
<p>We can see what files and subdirectories are in this directory by running ls, which stands for “listing”:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Expected result:</p>
<pre><code>jiratchaya@DESKTOP-P2DD13C:~/Cpa_RNASeq$ ls
01_Rawdata  02_QC  03_adapter_trimming</code></pre>
<p>Let us look at the other way. This way is to list all the files and directories, including the users who own them, the permissions, and the file size in bytes.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Expected result:</p>
<pre><code>jiratchaya@DESKTOP-P2DD13C:~/Cpa_RNASeq$ ls -l
total 12
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:02 01_Rawdata
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:02 02_QC
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:02 03_adapter_trimming</code></pre>
<p>List files and folders, permissions and size in a human readable format.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-lh</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Expected result:</p>
<pre><code>jiratchaya@DESKTOP-P2DD13C:~/Cpa_RNASeq$ ls -l
total 12
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:02 01_Rawdata
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:02 02_QC
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:02 03_adapter_trimming</code></pre>
<p>See all hidden files and directories</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-la</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Expected result:</p>
<pre><code>jiratchaya@DESKTOP-P2DD13C:~/Cpa_RNASeq$ ls -la
total 20
drwxr-xr-x 5 jiratchaya jiratchaya 4096 Mar  1 21:02 .
drwxr-x--- 3 jiratchaya jiratchaya 4096 Mar  1 21:02 ..
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:02 01_Rawdata
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:02 02_QC
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:02 03_adapter_trimming</code></pre>
</section>
<section id="files-and-directories-handling" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="files-and-directories-handling">Files and directories handling</h3>
<section id="creating-and-editing-files" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="creating-and-editing-files">Creating and editing files</h4>
<p>When you work on the command line, you often need to create or edit text files. In this workshop, we recommend using <code>nano</code> as a text editor. Other Unix text editors you may have heard of include vi, vim, emacs, vscode, and many more.</p>
<p>We’ll create the file <code>test.fasta</code>. To open an existing file or create a new file, type nano followed by the filename:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nano</span> test.fasta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will bring up the text editing screen on your terminal. Here you can type anything you want, but in this case we’ll create a sequence like this.</p>
<pre><code>&gt;seq_01
TCGCTAGTC

&gt;seq_02
TAGCGAGTT</code></pre>
<blockquote class="blockquote">
<p>🗒️<strong>Note:</strong>Always leave an enter in the last line. This is advantageous if this file is further used by many programmes.</p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/04_nano_screen.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">The text editing screen is displayed once you have typed nano into some files. At the bottom of the window is a list of the most important keyboard shortcuts for the nano editor. All commands are preceded by either a <code>^</code> or an <code>M</code> character. The caret symbol (<code>^</code>) stands for the <code>Ctrl</code> key. For example, the commands <code>^J</code> mean that you press the <code>Ctrl</code> and <code>J</code> keys simultaneously. The letter <code>M</code> stands for the <code>Alt</code> key.</figcaption><p></p>
</figure>
</div>
<p>To edit a file, you can use the navigation keys such as arrow keys, End, Home, PgUp or PgDn to control the cursor.</p>
<p>To save the changes you made to the file, press <code>Ctrl+o</code>. If the file doesn’t exist yet, it’ll be created after saving.</p>
<p>To exit nano, press <code>Ctrl+x</code>. If there are unsaved changes, you’ll be asked if you want to save the changes. Nano will ask you ‘Save modified buffer?’, then type <code>y</code> to confirm the edit.</p>
</section>
<section id="copying-files-and-directories" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="copying-files-and-directories">Copying files and directories</h4>
<p>To copy files and directories the command <code>cp</code> can be used. <code>cp</code> stands for copy and is used to copy files and directories in Linux. An example: You copy the file <code>test.fasta</code> to <code>01_Rawdata</code> with the following syntax</p>
<pre><code>cp [source file] [target_directory]/</code></pre>
<p>For example</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test.fasta 01_Rawdata/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Copy file to another file, using the syntax</p>
<pre><code>cp [source_file] [new_file_name]</code></pre>
<p>For example</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test.fasta test_2.fasta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can copy a file to a new file in the directory by using the following syntax</p>
<pre><code>cp [source_file] [target_directory]/[new_file_name]</code></pre>
<p>For example</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> test.fasta 01_Rawdata/another_test.fasta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To copying directory, use additional flag as follow</p>
<pre><code>cp -r [source_directory] [new_directory_name]</code></pre>
<p>The flag <code>-r</code> stands for recursive, i.e.&nbsp;all files and subdirectories in this directory are copied repeatedly. For example, <code>01_Rawdata</code> already contains <code>test.fasta</code>, which we copied before, and we want to duplicate this directory.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="at">-r</span> 01_Rawdata/ 01_Rawdata_new</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="moving-files-and-directories" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="moving-files-and-directories">Moving files and directories</h4>
<p>To copy files and directories, the command <code>mv</code> can be used. <code>mv</code> stands for move and is used to move files and directories in Linux. For example, move the file <code>test_2.fasta</code> to the directory <code>01_Rawdata_new</code> with the following syntax</p>
<pre><code>mv [file_to_move] [target_directory]</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> test_2.fasta 01_Rawdata_new/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Specifically, to move files and directories, no flags are required as with <code>cp</code>. So if we want to move <code>01_Rawdata_new</code> to a subdirectory of <code>01_Rawdata</code>, this can be done as follows</p>
<pre><code>mv [source_file_or_dir] [target_file_or_dir]</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> 01_Rawdata_new/ 01_Rawdata</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Moving file within the directory up to the current directory</p>
<pre><code>mv [source_dir]/[source_file] .</code></pre>
<p>The dot ( . ) stands for the current directory, which means you want to move something to the current directory. For example, we want to move the file <code>another_test.fasta</code>, which is in the directory <code>01_Rawdata</code>, to the current directory by typing</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mv</span> 01_Rawdata/another_test.fasta .</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="deleting-files-and-directories" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="deleting-files-and-directories">Deleting files and directories</h4>
<p>Removing files and directories can be done with the command <code>rm</code>. <code>rm</code> stands for remove and is used to delete files and directories in Linux. It’s simple and straightforward with the following syntax.</p>
<pre><code>rm [file_to_delete]</code></pre>
<p>For example, you are deleting file <code>another_test.fasta</code></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> another_test.fasta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To delete directories, use additional flags</p>
<pre><code>rm -rf [directory_to_delete]</code></pre>
<p>The flag <code>-r</code> means that it does something recursive, which means that it deletes all files and subdirectories of the directory you want to delete. The flag <code>f</code> can help us delete some protected files and directories that you should think twice before deleting.</p>
<p>For example you want to delete <code>03_adapter_trimming</code> directory</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> 03_adapter_trimming</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or delete subdirectory <code>01_Rawdata_new</code> by</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> 01_Rawdata/01_Rawdata_new</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Don’t worry~ the <code>01_Rawdata</code> is still with us</p>
<pre><code>jiratchaya@DESKTOP-P2DD13C:~/Cpa_RNASeq$ ls -l
total 20
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 22:33 01_Rawdata
drwxr-xr-x 2 jiratchaya jiratchaya 4096 Mar  1 21:59 02_QC
-rw-r--r-- 1 jiratchaya jiratchaya   38 Mar  1 22:00 another_test.fasta
-rw-r--r-- 1 jiratchaya jiratchaya   38 Mar  1 21:59 test.fasta
-rw-r--r-- 1 jiratchaya jiratchaya   38 Mar  1 22:00 test_2.fasta</code></pre>
<blockquote class="blockquote">
<p>🚨 <strong>Danger zone:</strong> Be sure to check the path of the location where you want to delete something with the command <code>rm -rf</code>, otherwise you’ll unintentionally delete necessary files or directories.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.reddit.com/r/linuxmemes/comments/gk8k2x/why_i_prefer_using_rm_i_or_deleting_the_entire/"><img src="https://i.redd.it/346ib6l1exy41.png" class="img-fluid figure-img" style="width:70.0%"></a></p>
</figure>
</div>
</blockquote>
</section>
</section>
<section id="downloading-file-from-url" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="downloading-file-from-url">Downloading file from URL</h3>
<p>There are numerous ways to download a file from a URL via the command line on Linux, and two of the best tools for this task are <code>wget</code> and <code>curl</code>. Both tools have their advantages and disadvantages, depending on the download task at hand. However, in this workshop we’ll mainly focus on downloading with <code>curl</code>.</p>
<p>For example, we want to download the latest (draft) genome assembly report of <em>Cyanophora paradoxa</em> from the NCBI genome database via <code>curl</code> as follows.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-O</span> https://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/004/431/415/GCA_004431415.1_ASM443141v1/GCA_004431415.1_ASM443141v1_assembly_report.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Expected output</p>
<pre><code>jiratchaya@DESKTOP-P2DD13C:~/Cpa_RNASeq$ curl -O https://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/004/431/415/GCA_004431415.1_ASM443141v1/GCA_004431415.1_ASM443141v1_assembly_report.txt
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 61357  100 61357    0     0  21604      0  0:00:02  0:00:02 --:--:-- 21604
jiratchaya@DESKTOP-P2DD13C:~/Cpa_RNASeq$ ls -l
total 80
drwxr-xr-x 2 jiratchaya jiratchaya  4096 Mar  1 22:33 01_Rawdata
drwxr-xr-x 2 jiratchaya jiratchaya  4096 Mar  1 21:59 02_QC
-rw-r--r-- 1 jiratchaya jiratchaya 61357 Mar  1 22:56 GCA_004431415.1_ASM443141v1_assembly_report.txt
-rw-r--r-- 1 jiratchaya jiratchaya    38 Mar  1 22:00 another_test.fasta
-rw-r--r-- 1 jiratchaya jiratchaya    38 Mar  1 21:59 test.fasta
-rw-r--r-- 1 jiratchaya jiratchaya    38 Mar  1 22:00 test_2.fasta</code></pre>
<p><strong>Tips:</strong> The alternative way to retrieve genome information from NCBI, you can just go to <a href="https://www.ncbi.nlm.nih.gov/data-hub/genome/">NCBI Genome Data Hub</a> and specify species name to get information. NCBI provides several routes to download files including <code>curl</code>!</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/05_genome_data_hub.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">A genome assembly of <em>C. paradoxa</em> in NCBI genome data hub (Accessed: 1 March 2023)</figcaption><p></p>
</figure>
</div>
</section>
<section id="inspecting-file" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="inspecting-file">Inspecting file</h3>
<p>We’ll inspect the assembly report file <code>GCA_004431415.1_ASM443141v1_assembly_report.txt</code> that we just downloaded from NCBI</p>
<ul>
<li>Count how many lines in that file</li>
</ul>
<div class="sourceCode" id="cb39"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> GCA_004431415.1_ASM443141v1_assembly_report.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>jiratchaya@DESKTOP-P2DD13C:~/Cpa_RNASeq$ wc -l GCA_004431415.1_ASM443141v1_assembly_report.txt
743 GCA_004431415.1_ASM443141v1_assembly_report.txt</code></pre>
<ul>
<li>Print some contents at a time.</li>
</ul>
<p>Now you will see the number of lines that fit on your screen, and you can scroll <code>up</code> and <code>down</code> with the arrow keys. Then press <code>q</code> when you have checked your file.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">less</span> GCA_004431415.1_ASM443141v1_assembly_report.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/06_less_file.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">Example of inspecting a file with the <code>less</code> command. Users can scroll up and down with the arrow keys and exit by pressing <code>q</code>.</figcaption><p></p>
</figure>
</div>
<ul>
<li>Print top 10 lines of file</li>
</ul>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span> GCA_004431415.1_ASM443141v1_assembly_report.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/07_head_file.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">The first 10 lines of <em>C. paradoxa</em> assembly report file</figcaption><p></p>
</figure>
</div>
<ul>
<li>Print bottom 10 lines of file</li>
</ul>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span> GCA_004431415.1_ASM443141v1_assembly_report.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/08_tail_file.png" class="img-fluid figure-img" style="width:100.0%"></p>
<p></p><figcaption class="figure-caption">The last 10 lines of <em>C. paradoxa</em> assembly report file.</figcaption><p></p>
</figure>
</div>
<ul>
<li>Print only lines with a specific pattern of word.</li>
</ul>
<p>For example, we’ll print only the lines contain the word “Chloroplast”</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> <span class="st">"Chloroplast"</span> GCA_004431415.1_ASM443141v1_assembly_report.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/09_grep_file.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Extracted lines with a specific word “Chloroplast” in assembly report file.</figcaption><p></p>
</figure>
</div>
</section>
<section id="show-latest-commands-we-used" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="show-latest-commands-we-used">Show latest commands we used</h3>
<p>You can simply press arrow keys <code>up</code> or <code>down</code> to see your latest commands that you typed in the terminal.</p>
<p>Another way to see the latest command by typing below in the terminal</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="bu">history</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>History is able to keep track of the command lines you use, associate any data with each line, and use information from previous lines when writing new lines.</p>
</section>
<section id="shortcut-tab-completion" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="shortcut-tab-completion">Shortcut: Tab Completion</h3>
<p>When typing file or directory names, it’s easy to mistype. Instead, we can use ‘tab’ to complete what we want to type. The shell will try to fill in the rest of a directory or file name if you press tab after typing.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.stack.imgur.com/jKJz0.gif" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Using tab autocomplete in bash.</figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="maintaining-long-running-jobs-with-tmux" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="maintaining-long-running-jobs-with-tmux"><span class="header-section-number">2.3</span> Maintaining Long-Running Jobs with tmux</h2>
<p>When we run programs through the Unix shell, they run until they terminate successfully or are terminated with an error. Multiple processes running simultaneously on your computer, such as system files, web browser, email application, bioinformatics programs, and so on. In bioinformatics, we often work with processes that run for a long period of time. Therefore, it’s important that we know how to work with processes and manage them using the Unix shell. In this section, we’ll learn the basics of dealing with processes.</p>
<p>In addition, processes are also terminated if the connection to the servers is interrupted, the network connection drops immediately, or the power fails. Since we’re constantly working with remote computers in our daily work in bioinformatics, we need a way to prevent the accidental termination of long-running applications. Leaving the local terminal’s connection to a remote computer open while a program is running is an unsafe solution, even the most reliable networks can experience short outages.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://external-preview.redd.it/qevOpeiiyII34yThEPkMRIg6vL72zz-gt-zdQrfd-Us.jpg?auto=webp&amp;v=enabled&amp;s=e65d4473b8702e6437d5067d88f64d31a9822f51" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">How tmux increase you pruductivity :/</figcaption><p></p>
</figure>
</div>
<p>Some software offers the user the possibility to run their work as a background process, e.g.&nbsp;Nohup, Screen and Tmux. In this workshop, we propose <strong>Terminal Multiplexer (Tmux)</strong>, which allows you to create a session with multiple windows, each of which can run its own processes. The Tmux sessions are persistent, which means that all the windows and their processes can be easily restored by reattaching the session.</p>
<p>When Tmux is running on a remote machine, you can maintain a persistent session that isn’t lost when the connection drops or you close your terminal window to go home (or even exit your terminal programme). Rather, all Tmux sessions can be reattached to the terminal you’re currently at - simply log back into the remote machine via SSH and reattach the Tmux session. All windows remain undisturbed and all processes continue to run.</p>
<section id="a-simple-usage-of-tmux" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="a-simple-usage-of-tmux">A simple usage of Tmux</h3>
<p>Open a terminal and use the following command</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tmux</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You see a command prompt as usual, but you now see a taskbar-style menu at the bottom of the terminal that contains something like bash 0 *. The asterisk indicates that this is your active window.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/10_tmux_simple.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Tmux windows</figcaption><p></p>
</figure>
</div>
</section>
<section id="detach-a-session" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="detach-a-session">Detach a session</h3>
<p>This allows you to leave the tmux session, but it continues to run in the background. Just press the key</p>
<pre><code>[ctrl + b] + d</code></pre>
<p>Your terminal will print</p>
<pre><code>jiratchaya@DESKTOP-P2DD13C:~/Cpa_RNASeq$ tmux
[detached (from session 0)]</code></pre>
<p>This should take you back to a standard prompt. Remember that the Tmux session continues in the background, and you can recall it at any time.</p>
</section>
<section id="name-the-tmux-session" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="name-the-tmux-session">Name the Tmux session</h3>
<p>You may find it helpful to name your sessions with meaningful titles to keep things organized. Let’s try naming your first session with Tmux.</p>
<p>You can name it anything that we want, but in this case I will name it ‘process2’. Enter the following command:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tmux</span> new <span class="at">-s</span> process2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You should now have a new Tmux session running. If you look in the lower left area of the window, you will see the name of your session rather than the generic ‘bash’.</p>
</section>
<section id="list-tmux-sessions" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="list-tmux-sessions">List tmux sessions</h3>
<p>What happened to your session? It is still running in the background. You can reopen the session by name or number ID, but what if you forgot the session name?</p>
<p>There is a list function built into tmux:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tmux</span> ls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This lists all your current tmux sessions. When you run it, you get output like this:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/11_tmux_sessions.png" class="img-fluid figure-img" style="width:75.0%"></p>
<p></p><figcaption class="figure-caption">List of running tmux sessions.</figcaption><p></p>
</figure>
</div>
</section>
<section id="reenter-aka-reattach-a-session-in-tmux" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="reenter-aka-reattach-a-session-in-tmux">Reenter (aka reattach) a session in Tmux</h3>
<p>To reopen your tmux session, you can use the tmux command with the attach or attach-session option as follows:</p>
<pre><code>tmux a -t [session_name]</code></pre>
<p>For example, we’ll reenter to the process2 session.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tmux</span> a <span class="at">-t</span> process2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exit-tmux-when-finish-running" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="exit-tmux-when-finish-running">Exit tmux when finish running</h3>
<p>Quitting tmux is exactly the same as quitting the standard terminal by pressing the keys <code>Ctrl+d</code> or by entering</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="bu">exit</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="resources" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="resources"><span class="header-section-number">2.4</span> Resources</h2>
<ul>
<li><p>Buffalo, V. (2015). <a href="https://books.google.co.th/books/about/Bioinformatics_Data_Skills.html?id=XxERCgAAQBAJ"><em>Bioinformatics data skills: Reproducible and robust research with open source tools</em></a>. ” O’Reilly Media, Inc.”.</p></li>
<li><p><a href="https://hbctraining.github.io/Intro-to-shell-flipped/">Introduction to the command line interface</a> by Harvard Chan Bioinformatics Core (Accessed on 27 Feb 2023).</p></li>
<li><p><a href="https://bioinformatics-core-shared-training.github.io/shell-genomics/01-introduction/index.html">Introducing the Shell</a>, from the course Introduction to the Command Line for Genomics in bioinformatics-core-shared-training (Accessed on 28 Feb 2023)</p></li>
<li><p><a href="https://github.com/RehanSaeed/Bash-Cheat-Sheet">Bash cheat sheet</a> from RehanSaeed GitHub repository (Accessed on 1 March 2023).</p></li>
<li><p><a href="https://linuxhandbook.com/tmux/">Getting Started with Tmux [Beginner’s Guide]</a>. By linuxhandbook.com (Accessed on 2 March 2023)</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./01_intro_mobaxterm.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to MobaXterm, Terminal, and SSH</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03_sra.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Retrieval with NCBI SRA Toolkit</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>